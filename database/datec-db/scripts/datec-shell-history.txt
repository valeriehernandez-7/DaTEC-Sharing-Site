PS C:\Users\velysian> cd C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> docker-compose up -d
[+] Running 11/11
 ✔ Network datec-db_datec-network        Created                                                            0.1s
 ✔ Volume datec-db_mongo_primary_data    Created                                                            0.0s
 ✔ Volume datec-db_mongo_secondary_data  Created                                                            0.0s
 ✔ Volume datec-db_redis_primary_data    Created                                                            0.0s
 ✔ Volume datec-db_redis_replica_data    Created                                                            0.0s
 ✔ Container datec-redis-primary         Healthy                                                           11.4s
 ✔ Container datec-mongo-primary         Healthy                                                            7.4s
 ✔ Container datec-mongo-secondary       Healthy                                                           17.8s
 ✔ Container datec-redis-replica         Healthy                                                           12.2s
 ✔ Container datec-mongo-setup           Started                                                           17.9s
 ✔ Container datec-redis-setup           Started                                                           12.7s
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> docker-compose ps
NAME                    IMAGE            COMMAND                  SERVICE           CREATED          STATUS                    PORTS
datec-mongo-primary     mongo:8.0        "docker-entrypoint.s…"   mongo-primary     45 seconds ago   Up 43 seconds (healthy)   0.0.0.0:27017->27017/tcp, [::]:27017->27017/tcp
datec-mongo-secondary   mongo:8.0        "docker-entrypoint.s…"   mongo-secondary   44 seconds ago   Up 42 seconds (healthy)   0.0.0.0:27018->27017/tcp, [::]:27018->27017/tcp
datec-mongo-setup       mongo:8.0        "docker-entrypoint.s…"   mongo-setup       44 seconds ago   Up 26 seconds             27017/tcp
datec-redis-primary     redis:8-alpine   "docker-entrypoint.s…"   redis-primary     45 seconds ago   Up 43 seconds (healthy)   0.0.0.0:6379->6379/tcp, [::]:6379->6379/tcp
datec-redis-replica     redis:8-alpine   "docker-entrypoint.s…"   redis-replica     44 seconds ago   Up 42 seconds (healthy)   0.0.0.0:6380->6379/tcp, [::]:6380->6379/tcp
datec-redis-setup       node:24-alpine   "docker-entrypoint.s…"   redis-setup       44 seconds ago   Up 31 seconds
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> docker-compose logs -f mongo-setup
datec-mongo-setup  | Waiting for MongoDB nodes...
datec-mongo-setup  | Configuring Replica Set...
datec-mongo-setup  | ============================================================
datec-mongo-setup  | Starting MongoDB Replica Set Configuration
datec-mongo-setup  | ============================================================
datec-mongo-setup  |
datec-mongo-setup  | Waiting for MongoDB nodes to be ready...
datec-mongo-setup  | Attempting to initialize replica set...
datec-mongo-setup  | Initializing new replica set...
datec-mongo-setup  | Replica set initiation command sent
datec-mongo-setup  | Waiting for replica set to stabilize (40 seconds)...
datec-mongo-setup  | ✓ Replica set initialization complete: datecRS
datec-mongo-setup  |
datec-mongo-setup  | Using database: datec
datec-mongo-setup  |
datec-mongo-setup  | Creating collections with validation...
datec-mongo-setup  | ✓ Created users collection with validation
datec-mongo-setup  | ✓ Created datasets collection with validation
datec-mongo-setup  | ✓ Created comments collection with validation
datec-mongo-setup  | ✓ Created votes collection with validation
datec-mongo-setup  | ✓ Created private_messages collection with validation
datec-mongo-setup  |
datec-mongo-setup  | Creating indexes...
datec-mongo-setup  | ✓ Created users indexes
datec-mongo-setup  | ✓ Created datasets indexes
datec-mongo-setup  | ✓ Created comments indexes
datec-mongo-setup  | ✓ Created votes indexes
datec-mongo-setup  | ✓ Created private_messages indexes
datec-mongo-setup  |
datec-mongo-setup  | Creating sample users...
datec-mongo-setup  | ✓ Sample user created: sudod4t3c
datec-mongo-setup  | ✓ Sample user created: erickhernandez
datec-mongo-setup  | ✓ Sample user created: armandogarcia
datec-mongo-setup  | ✓ Sample user created: valeriehernandez
datec-mongo-setup  |
datec-mongo-setup  | Creating sample datasets...
datec-mongo-setup  | ✓ Created sample dataset: Global Sales Analysis 2024
datec-mongo-setup  | ✓ Created sample dataset: Climate Change Indicators
datec-mongo-setup  |
datec-mongo-setup  | Verifying setup...
datec-mongo-setup  |   - datasets: 7 indexes
datec-mongo-setup  |   - private_messages: 5 indexes
datec-mongo-setup  |   - comments: 6 indexes
datec-mongo-setup  |   - votes: 5 indexes
datec-mongo-setup  |   - users: 5 indexes
datec-mongo-setup  |
datec-mongo-setup  | ============================================================
datec-mongo-setup  | MongoDB Setup Complete!
datec-mongo-setup  | ============================================================
datec-mongo-setup  |
datec-mongo-setup  | Summary:
datec-mongo-setup  |   - Replica Set: datecRS
datec-mongo-setup  |   - Database: datec
datec-mongo-setup  |   - Collections: 5
datec-mongo-setup  |   - Indexes: 28
datec-mongo-setup  |   - Users: 4
datec-mongo-setup  |   - Datasets: 2
datec-mongo-setup  |   - Validation: Enabled for all collections
datec-mongo-setup  |
datec-mongo-setup  | Ready for DaTEC application development!
datec-mongo-setup  | MongoDB setup complete!

PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> docker-compose logs -f redis-setup
datec-redis-setup  | Installing Redis client...
datec-redis-setup  |
datec-redis-setup  | up to date, audited 19 packages in 2s
datec-redis-setup  |
datec-redis-setup  | 4 packages are looking for funding
datec-redis-setup  |   run `npm fund` for details
datec-redis-setup  |
datec-redis-setup  | found 0 vulnerabilities
datec-redis-setup  | npm notice
datec-redis-setup  | npm notice New patch version of npm available! 11.6.0 -> 11.6.1
datec-redis-setup  | npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.1
datec-redis-setup  | npm notice To update run: npm install -g npm@11.6.1
datec-redis-setup  | npm notice
datec-redis-setup  | Configuring Redis...
datec-redis-setup  | ============================================================
datec-redis-setup  | Starting Redis Primary-Replica Configuration
datec-redis-setup  | ============================================================
datec-redis-setup  |
datec-redis-setup  | Connecting to Redis Primary...
datec-redis-setup  | ✓ Redis Primary connection test: OK
datec-redis-setup  |
datec-redis-setup  | Redis Primary Replication Info:
datec-redis-setup  | role:master
datec-redis-setup  | connected_slaves:1
datec-redis-setup  |
datec-redis-setup  | Connecting to Redis Replica...
datec-redis-setup  | ✓ Redis Replica connection test: OK
datec-redis-setup  |
datec-redis-setup  | Redis Replica Replication Info:
datec-redis-setup  | role:slave
datec-redis-setup  | master_host:redis-primary
datec-redis-setup  |
datec-redis-setup  | Initializing Redis counters...
datec-redis-setup  |   - Initialized counters for dataset: erickhernandez_20250101_001
datec-redis-setup  |   - Initialized counters for dataset: armandogarcia_20250201_001
datec-redis-setup  |
datec-redis-setup  | Testing notification queues...
datec-redis-setup  | ✓ Notification queue test: 1 messages in queue
datec-redis-setup  |
datec-redis-setup  | Verifying data replication...
datec-redis-setup  | ✓ Data replication test: SUCCESS
datec-redis-setup  |
datec-redis-setup  | ============================================================
datec-redis-setup  | Redis Primary-Replica Setup Complete!
datec-redis-setup  | ============================================================
datec-redis-setup  |
datec-redis-setup  | Summary:
datec-redis-setup  |   - Primary: redis://redis-primary:6379
datec-redis-setup  |   - Replica: redis://redis-replica:6379
datec-redis-setup  |   - Counters initialized: download_count, vote_count
datec-redis-setup  |   - Notification queues: ready
datec-redis-setup  |   - Replication: verified
datec-redis-setup  |   - Sample datasets: 2

PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> cd scripts
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db\scripts> npm install

up to date, audited 19 packages in 1s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db\scripts> node setup-couchdb.js
============================================================
Starting CouchDB Configuration
============================================================

Connecting to CouchDB...
✓ Connected to CouchDB successfully

Creating datec database...
✓ Database "datec" created

Creating design documents...
✓ Created design document for user avatars
✓ Created design document for dataset files

Verifying CouchDB setup...

============================================================
CouchDB Setup Complete!
============================================================

Summary:
  - URL: http://localhost:5984
  - Database: datec
  - Admin: sudod4t3c
  - Design documents: 2
  - Total documents: 2
  - Deleted documents: 0
  - Ready for file uploads

Note: Binary attachments will be added via application
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db\scripts> node setup-neo4j.js
============================================================
Starting Neo4j Configuration
============================================================

Creating datec database...
✓ Database "datec" created or already exists

Creating constraints...
✓ User constraint created
✓ Dataset constraint created

Creating indexes...
✓ User username index created
✓ Dataset name index created

Creating sample users...
✓ User created: sudod4t3c
✓ User created: erickhernandez
✓ User created: armandogarcia
✓ User created: valeriehernandez

Creating sample datasets...
✓ Dataset 1 created
✓ Dataset 2 created

Verifying setup...

============================================================
Neo4j Setup Complete!
============================================================

Summary:
  - URL: bolt://localhost:7687
  - Database: datec
  - Constraints: 2 (User, Dataset)
  - Indexes: 2 (username, dataset_name)
  - Users: 4
  - Datasets: 2
  - Ready for relationship tracking
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db\scripts> cd ..
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database\datec-db> docker-compose ps
NAME                    IMAGE            COMMAND                  SERVICE           CREATED         STATUS                   PORTS
datec-mongo-primary     mongo:8.0        "docker-entrypoint.s…"   mongo-primary     7 minutes ago   Up 7 minutes (healthy)   0.0.0.0:27017->27017/tcp, [::]:27017->27017/tcp
datec-mongo-secondary   mongo:8.0        "docker-entrypoint.s…"   mongo-secondary   7 minutes ago   Up 7 minutes (healthy)   0.0.0.0:27018->27017/tcp, [::]:27018->27017/tcp
datec-redis-primary     redis:8-alpine   "docker-entrypoint.s…"   redis-primary     7 minutes ago   Up 7 minutes (healthy)   0.0.0.0:6379->6379/tcp, [::]:6379->6379/tcp
datec-redis-replica     redis:8-alpine   "docker-entrypoint.s…"   redis-replica     7 minutes ago   Up 7 minutes (healthy)   0.0.0.0:6380->6379/tcp, [::]:6380->6379/tcp
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database> docker exec -it datec-mongo-primary mongosh --eval "rs.status()"
{
  set: 'datecRS',
  date: ISODate('2025-10-04T02:44:13.955Z'),
  myState: 1,
  term: Long('5'),
  syncSourceHost: '',
  syncSourceId: -1,
  heartbeatIntervalMillis: Long('2000'),
  majorityVoteCount: 2,
  writeMajorityCount: 2,
  votingMembersCount: 2,
  writableVotingMembersCount: 2,
  optimes: {
    lastCommittedOpTime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
    lastCommittedWallTime: ISODate('2025-10-04T02:44:10.537Z'),
    readConcernMajorityOpTime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
    appliedOpTime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
    durableOpTime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
    writtenOpTime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
    lastAppliedWallTime: ISODate('2025-10-04T02:44:10.537Z'),
    lastDurableWallTime: ISODate('2025-10-04T02:44:10.537Z'),
    lastWrittenWallTime: ISODate('2025-10-04T02:44:10.537Z')
  },
  lastStableRecoveryTimestamp: Timestamp({ t: 1759545810, i: 72 }),
  electionCandidateMetrics: {
    lastElectionReason: 'electionTimeout',
    lastElectionDate: ISODate('2025-10-04T02:28:40.558Z'),
    electionTerm: Long('5'),
    lastCommittedOpTimeAtElection: { ts: Timestamp({ t: 0, i: 0 }), t: Long('-1') },
    lastSeenWrittenOpTimeAtElection: { ts: Timestamp({ t: 1759381088, i: 53 }), t: Long('4') },
    lastSeenOpTimeAtElection: { ts: Timestamp({ t: 1759381088, i: 53 }), t: Long('4') },
    numVotesNeeded: 2,
    priorityAtElection: 2,
    electionTimeoutMillis: Long('10000'),
    numCatchUpOps: Long('0'),
    newTermStartDate: ISODate('2025-10-04T02:28:40.569Z'),
    wMajorityWriteAvailabilityDate: ISODate('2025-10-04T02:28:40.589Z')
  },
  members: [
    {
      _id: 0,
      name: 'mongo-primary:27017',
      health: 1,
      state: 1,
      stateStr: 'PRIMARY',
      uptime: 944,
      optime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
      optimeDate: ISODate('2025-10-04T02:44:10.000Z'),
      optimeWritten: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
      optimeWrittenDate: ISODate('2025-10-04T02:44:10.000Z'),
      lastAppliedWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      lastDurableWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      lastWrittenWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      syncSourceHost: '',
      syncSourceId: -1,
      infoMessage: '',
      electionTime: Timestamp({ t: 1759544920, i: 1 }),
      electionDate: ISODate('2025-10-04T02:28:40.000Z'),
      configVersion: 1,
      configTerm: 5,
      self: true,
      lastHeartbeatMessage: ''
    },
    {
      _id: 1,
      name: 'mongo-secondary:27017',
      health: 1,
      state: 2,
      stateStr: 'SECONDARY',
      uptime: 943,
      optime: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
      optimeDurable: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
      optimeWritten: { ts: Timestamp({ t: 1759545850, i: 1 }), t: Long('5') },
      optimeDate: ISODate('2025-10-04T02:44:10.000Z'),
      optimeDurableDate: ISODate('2025-10-04T02:44:10.000Z'),
      optimeWrittenDate: ISODate('2025-10-04T02:44:10.000Z'),
      lastAppliedWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      lastDurableWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      lastWrittenWallTime: ISODate('2025-10-04T02:44:10.537Z'),
      lastHeartbeat: ISODate('2025-10-04T02:44:12.919Z'),
      lastHeartbeatRecv: ISODate('2025-10-04T02:44:13.425Z'),
      pingMs: Long('0'),
      lastHeartbeatMessage: '',
      syncSourceHost: 'mongo-primary:27017',
      syncSourceId: 0,
      infoMessage: '',
      configVersion: 1,
      configTerm: 5
    }
  ],
  ok: 1,
  '$clusterTime': {
    clusterTime: Timestamp({ t: 1759545850, i: 1 }),
    signature: {
      hash: Binary.createFromBase64('AAAAAAAAAAAAAAAAAAAAAAAAAAA=', 0),
      keyId: Long('0')
    }
  },
  operationTime: Timestamp({ t: 1759545850, i: 1 })
}
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database> docker exec -it datec-mongo-primary mongosh datec --eval "db.users.countDocuments()"
4
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database> docker exec -it datec-redis-primary redis-cli ping
PONG
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database> docker exec -it datec-redis-primary redis-cli INFO replication
# Replication
role:master
connected_slaves:1
slave0:ip=172.18.0.2,port=6379,state=online,offset=32130,lag=1
master_failover_state:no-failover
master_replid:12e9a1fe01642902052f336f53bfc02ffbca57e6
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:32130
second_repl_offset:-1
repl_backlog_active:1
repl_backlog_size:1048576
repl_backlog_first_byte_offset:30038
repl_backlog_histlen:2093
PS C:\Users\velysian\Documents\GitHub\DaTEC-Sharing-Site\database>